<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alice</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://unpkg.com/boxicons@2.1.4/dist/boxicons.js"></script>
</head>
<body>
    <div class="container">
        <div class="buttons">
            <a href="https://maps.app.goo.gl/yWPNNPJ7CQsyNxf2A" target="_blank">
                <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAvxJREFUSEu1ldurVlUUxceYcx+TQBOlNMWiKErQ8gIS3tB8iC6IvQhFQegRI/KlHkT/AH1RIRJEVARFxNIHiaKXLOkCYnBEMlNRUY9iXkFC1L3XHLJgB4fj9+19EFyva+/5m3OOMeciHvPhY46PVoCk5yLiA0nvkHw9JySpj+QPZraHZH9Tkl0BkkZK2iVpUUMAAfjGzJaSvNPpu44ASU9GxGEAkwHcA7DFzL4iebau4MWI+ALAcgDDJB1297kky8GQjoCU0k4AHwO4aGZvkTzRKTtJr0XEjwCeBbDR3b9sBUiaEhHHAFRmNpNkn6RxkrZJeiMHIPk7yV6S1yTNi4hDAO6b2QskLw+EPFRBSulrAJ8D2OTuK3PwiOgDMG5Qdrm6qSRvppR2A/gQwBp3X9cGOA3gJTObTPJ4SmkXgI9IHiC5utZgg6S3szbu/mlZlgvM7KCkX4uimNcGyKIOMzMnGSmlSwDGm9lYklcHiHwGwAV3f17S6Ii4AeCmu49pA9wCMMrMRpD8L6WUfT7BzCb+7/l6Ns4D6Hf3iZJGRMRtALfcfXQjoKqqP0nOMLNXSJ5KKe0A8EndolUAhktamwcPwHZ375U0KSL+lnSkKIqZbRVsBdALYKW7b5L0dET8BeCZQSL31yLfSClle64HsNndP2sElGX5ppn9BOCou0+rez5+gE2D5G8kV5D8V5JFxD8AXjaz2ST/aARIYkScA5DFW1wUxYGmXVNVVXZYdtpJd3+1ddDyB1VVLSG5F8AVM5tC8nqXSZ5Qt2+UpPeKovh+SIAa8jPJ+ZIOuftCkmngz5KeiIjcjukkvzOzjkuxaZvmCT4OINtuu5ktJ5m3Z17XhaRvcwvzLNRiZ3s/dBrfA0mzIuIXAD0AdprZstqme3JLANyphT3aTafWB6eqqvdJ7gNg+ZGJiJEk5+Q1HhHv9vT0ZMd1Pa2A/GdZlgvNbD+Ap+pIWfxFJI80Bc93QwLUfc/TulfSXXdfPHgtP3KL2jJsux9yBW2But0/ADa4gSggg6FCAAAAAElFTkSuQmCC"/>
            </a>
            <a href="https://wa.me/+5521997900512" target="_blank">
                <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAs1JREFUSEvFlU+IVmUUxp/nnPth+WdkdokjYtRQFJRK6SYRIS2ENpXQQNAQBpUZEcyiNga1CN3YqAiCFOhCqMWADOpk0URQQ4NuyhBsUFyZMqBQMXPf88gbd+Cbb757bSNzV5f7nnt+9zznOecS9/nifc6PxQdI2hgRuyRtIdkPIJH8SdIvZnaW5IUmFWorkLRG0jFJOwDckXSB5CUA/0paT/IpACsBHDCzj0nOdAN1BUjqj4jvASyR9IG7nyCpzgQppfcyAMCfZvYKyd86YxYAJD0UEb9mKcxsG8krTRJIejIiRgCYmT1B8u/2+AWAiBiV9KyZPUNyStJqACtI/lEHqiCTAI67+9u1AEnPRcS4pDeLojgu6fGqmr/MbF03meaSpZQ+AvBZRGxvtVpjc8/nVZBSGgYwaGa9JGdTSkMAPs/BEbGj1Wqda6jiwYi4Q3LEzF6uA1wkec3MXsoBKaV3ABzO95IGi6L4sqkfKaWL+dzdn64DXAcw6u5vVUlXRcQUgGkzW0OyvAfgKIABd++pA1wGMOnur7Vpm634BYAjZrbnHn3Icr7v7g90BUTEmYjoLYpiU/uXppROAdiV9SWZgUtTSlmu7JqvSU5Xkua4De7+aF0FnwIYMrM+kjfmgiR5RBwE8C6A28B/O2xFdb7f3YckWUTcBPCNu+/uCpD0cETkwfrE3fd16j07O/u8mWW5HqvOIiJeyLYsy3KA5MlOty0YtMoJyd03NlhyQ1mWPUVRXK2GcW1ETEi6VBTF1qZBWxYRWc9hd/+wyTFt8uXk3wLoqab/Wi2gLMudJE9Lej3PFsntAH42s69I/tP+oqS+iHgDwN48JtXeal52KaVDVSPncuUXHgEwQ/IHSXkmlHcVyc3VrPzo7oN1S3FeDyJiTNIVSd+5+3mStyQtTym9SvJFANm+vZJ+JzluZtmiE01SLv4v8/80elEruAsCVXAoRXvS4AAAAABJRU5ErkJggg=="/>
            </a>

            <button class="check" onclick="openModal()">
                <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAAXNSR0IArs4c6QAAAPxJREFUSEvtk0tKA1EQRc8FswYVhYiuQiTRdbiBQBbgNhw5ceZS/OEmEjSQgFnFDRVaaB4++3Viz7pm3YN7qs6rEh2XOs6nBzQa7hVtFdk+BG4l3afO9lZk+xh4BS6AiaTHOmQvgO0T4AU4B2bASNL3vwCq8HdgmAsP0E4TJOFfwGXa+c8UWYDtO+BJ0ro+cqJlDtxIWuYO4leA7SnwAETAtaRVtS2nwFul5RMY/xWeVWT7CPgAzoAFcAUcAM9VeGiJB812XqIouo3A2JDodgDEv6LOGwE1JbHjMUlUcedFgAQSn0VaWt+B7ZjAkuI9WtVOd9CG0AMabXWuaAOgI1EZUcrQDgAAAABJRU5ErkJggg=="/>
            </button>
        </div>
    </div>

    <div id="modal" class="modal">
        <div class="modal-content">
            <div class="form-buttons">
                <span class="close" onclick="closeModal()">x</span>
            </div>
            <form class="form">
                <input type="text" placeholder="Nome" />
            </form>
            <div class="form-buttons">
                <button class="plus-button" onclick="addInput()">&#43;</button>
                <button class="check-btn" onclick="request()">&#10003;</button>
            </div>
        </div>
      </div>
    </div>

    <script>
        const modal = document.querySelector('.modal')
        const openModal = () => {
            modal.style.display = 'block'
        }

        const closeModal = () => {
            modal.style.display = 'none'
        }

        const addInput = () => {
            const form = modal.querySelector('form');

            const newInput = document.createElement('input');
            newInput.setAttribute('type', 'text');
            newInput.setAttribute('placeholder', 'Nome');

            form.appendChild(newInput);
        }

        const request = async () => {
            const form = document.querySelectorAll('.form input')
            const formArray = Array.from(form);

            const data = formArray.map((input) => {
                return {'name': input.value}
            })


            try {
                const response = await fetch('https://api-u36b.onrender.com/invite', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(data)
                })
                
                if (!response.ok) {
                    throw new Error('Erro na requisição');
                }
                
                const responseData = await response.json();
                console.log('Resposta:', responseData);
            } catch (error) { console.error('Erro:', error) }
            closeModal()
        }
    </script>
</body>
</html>